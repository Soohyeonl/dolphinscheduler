mutation createProcessDefinition {
    createProcessDefinition(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        name: "testname"
        json: "{tasks:{}, globalParams:{}}"
        locations: "{}"
        connects: "{}"
        description: "test"
    ) {
        code
        msg
        data
        success
        failed
    }
}

query copyProcessDefinition {
    copyProcessDefinition(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionIds: "3,4"
        targetProjectId: 10
    ) {
        code
        msg
        data
        success
        failed
    }
}

query moveProcessDefinition {
    moveProcessDefinition(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionIds: "3,4"
        targetProjectId: 1
    ) {
        code
        msg
        data
        success
        failed
    }
}

query verifyProcessDefinitionName {
    verifyProcessDefinitionName(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "test"
        name: "test"
    ) {
        code
        msg
        data
        success
        failed
    }
}

mutation updateProcessDefinition {
    updateProcessDefinition(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "test"
        name: "test"
        id: 1
        processDefinitionJson: ""
    ) {
        code
        msg
        data
        success
        failed
    }
}

query queryProcessDefinitionVersions {
    queryProcessDefinitionVersions(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        pageNo: 1
        pageSize: 3
        processDefinitionCode: "1"
    ) {
        code
        msg
        data {
            totalList {
                id
                projectCode
            }
            total
            totalPage
            currentPage
        }
        success
        failed
    }
}

mutation switchProcessDefinitionVersion {
    switchProcessDefinitionVersion(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionId: 1
        version: "1"
    ) {
        code
        msg
        data
        success
        failed
    }
}

mutation deleteProcessDefinitionVersion {
    deleteProcessDefinitionVersion(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionId: 1
        version: "1"
    ) {
        code
        msg
        data
        success
        failed
    }
}

mutation releaseProcessDefinition {
    releaseProcessDefinition(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processId: 1
        releaseState: OFFLINE
    ) {
        code
        msg
        data
        success
        failed
    }
}

query queryProcessDefinitionById {
    queryProcessDefinitionById(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processId: 1
    ) {
        code
        msg
        data {
            id
            code
            name
            version
            releaseState
            projectId
            projectCode
            processDefinitionJson
            description
            globalParams
            globalParamList {
                prop
                direct
                type
                value
            }
            globalParamMap
            createTime
            updateTime
            flag
            userId
            projectName
            locations
            connects
            scheduleReleaseState
            timeout
            tenantId
            modifyBy
            resourceIds
            warningGroupId
        }
        success
        failed
    }
}

query queryProcessDefinitionByName {
    queryProcessDefinitionByName(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionName: "mktb_test"
    ) {
        code
        msg
        data {
            id
            code
            name
            version
            releaseState
            projectId
            projectCode
            processDefinitionJson
            description
            globalParams
            globalParamList {
                prop
                direct
                type
                value
            }
            globalParamMap
            createTime
            updateTime
            flag
            userId
            projectName
            locations
            connects
            scheduleReleaseState
            timeout
            tenantId
            modifyBy
            resourceIds
            warningGroupId
        }
        success
        failed
    }
}

query queryProcessDefinitionList {
    queryProcessDefinitionList(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
    ) {
        code
        msg
        data {
            id
            code
            name
            version
            releaseState
            projectId
            projectCode
            processDefinitionJson
            description
            globalParams
            globalParamList {
                prop
                direct
                type
                value
            }
            globalParamMap
            createTime
            updateTime
            flag
            userId
            projectName
            locations
            connects
            scheduleReleaseState
            timeout
            tenantId
            modifyBy
            resourceIds
            warningGroupId
        }
        success
        failed
    }
}

query queryProcessDefinitionListPaging {
    queryProcessDefinitionListPaging(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        pageNo: 1
        pageSize: 3
    ) {
        code
        msg
        data {
            totalList {
                id
                code
                name
                version
                releaseState
                projectId
                projectCode
                processDefinitionJson
                description
                globalParams
                globalParamList {
                    prop
                    direct
                    type
                    value
                }
                globalParamMap
                createTime
                updateTime
                flag
                userId
                projectName
                locations
                connects
                scheduleReleaseState
                timeout
                tenantId
                modifyBy
                resourceIds
                warningGroupId
            }
            total
            totalPage
            currentPage
        }
        success
        failed
    }
}

query viewTree {
    viewTree(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        id: 1
        limit: 0
    ) {
        code
        msg
        data {
            name
            type
            instances {
                id
                name
                type
                state
                startTime
                endTime
                host
                duration
                subflowId
            }
            children {
                name
                type
            }
        }
        success
        failed
    }
}

query getNodeListByDefinitionCode {
    getNodeListByDefinitionCode(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionCode: "1"
    ) {
        code
        msg
        data {
            id
            code
            version
            name
            desc
            type
            runFlag
            loc
            maxRetryTimes
            retryInterval
            params
            preTasks
            preTaskNodeList {
                code
                name
                version
            }
            extras
            depList
            dependence
            conditionResult
            taskInstancePriority
            workerGroup
            timeout
            delayTime
        }
        success
        failed
    }
}

query getNodeListByDefinitionCodeList {
    getNodeListByDefinitionCodeList(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionCodeList: "1,2"
    ) {
        code
        msg
        data
        success
        failed
    }
}

mutation deleteProcessDefinitionById {
    deleteProcessDefinitionById(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectName: "mktb_test"
        processDefinitionId: 1
    ) {
        code
        msg
        data
        success
        failed
    }
}

query queryProcessDefinitionAllByProjectId {
    queryProcessDefinitionAllByProjectId(
        loginUser: { id: "1", sessionId: "8216d4b8-3fb4-4a20-8191-d6df5b41d2d9" }
        projectId: 1
    ) {
        code
        msg
        data {
            id
            code
            name
            version
            releaseState
            projectId
            projectCode
            processDefinitionJson
            description
            globalParams
            globalParamList {
                prop
                direct
                type
                value
            }
            globalParamMap
            createTime
            updateTime
            flag
            userId
            projectName
            locations
            connects
            scheduleReleaseState
            timeout
            tenantId
            modifyBy
            resourceIds
            warningGroupId
        }
        success
        failed
    }
}
